<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jQuery demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style>
        .fixed {
            position: fixed;
            top: 0;
            transition: top 0.3s ease-in-out;
        }
    </style>
</head>

<body>
    <div class="container-fluid vh-100 bg-primary text-white p-5">
        <h1>NTU Journalism</h1>
        <p id="winwidth">...</p>
    </div>
    <div id='bar' class="container-fluid bg-danger" style="height: 80px; ">
        <div class="h-100 d-flex flex-column justify-content-center">
            <p id='bar-word' class="mb-0">...</p>
            <p id='current-position' class="mb-0">...</p>
        </div>
    </div>
    <div class="container-fluid vh-100 bg-dark text-white p-5"></div>
    <div class="container-fluid vh-100 bg-light text-white p-5"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
    <!--下面是 jQuery CDN Link-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script>
        //有 $() 代表是 jQuery ，會是一個分號結尾
        //以下這段用來檢查 document 有沒有ready，要點開網頁，然後進入「檢查」的 console，如果有顯示 ready 代表ok
        $(document).ready(function () {   //$() 括號裡面也可以放window, h1, #container......就是看你要監看什麼東西
            console.log("ready!"); //ready 以後要幹嘛，要寫在 function 的大括號裡面
            var w = $(window).width(); //命名變數 w ，數值為視窗寬度
            var h = $(window).height();
            $("#winwidth").text('視窗寬度：' + w + ' px；視窗高度：' + h + ' px');
            var pos_fixed = $('#bar').offset().top; //取得 #bar 的位置
            $("#bar-word").text('bar position：' + pos_fixed + ' px');
        });

        $(window).on('resize', function () { //監看視窗有沒有被 resize ，如果 resize 就會觸發 function    
            var w = $(window).width();
            var h = $(window).height();
            $("#winwidth").text('視窗寬度：' + w + ' px；視窗高度：' + h + ' px');
        });

        var pos_fixed = $('#bar').offset().top; //前面雖然已經命名過 pos_fixed ，但因為命名在 function 裡面，所以這裡還是要再命名一次

        $(window).scroll(function () {
            var pos_current = $(window).scrollTop(); //現在捲動到哪裡
            $("#current-position").text('current position：' + pos_current + ' px');
            if (pos_current >= pos_fixed) {     //判斷式後面沒有分號
                $("#bar").addClass("fixed");
            }
            else {
                $("#bar").removeClass("fixed");
            }
        });


    </script>
</body>

</html>